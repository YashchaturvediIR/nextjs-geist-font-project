{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/chatbot/AIChatbot.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useRef, useEffect, KeyboardEvent } from \"react\";\n\nconst welcomeMessage = `Welcome to Molisha! üå∏ Thank you for visiting us. We are here to help you with your queries about orders, exchanges, or returns. Please select an option:\n\n1Ô∏è‚É£ I want to return the product\n2Ô∏è‚É£ I want to exchange my product\n3Ô∏è‚É£ When will my order get delivered?\n4Ô∏è‚É£ I made the payment but haven‚Äôt received order confirmation\n5Ô∏è‚É£ When will my exchange pickup happen?\n6Ô∏è‚É£ When will I receive my exchange article?\n7Ô∏è‚É£ I want to pay online\n8Ô∏è‚É£ Talk to a human support agent`;\n\nfunction getResponse(input: string) {\n  const trimmed = input.trim();\n  switch (trimmed) {\n    case \"1\":\n      return `Please share the reason for return:\n1Ô∏è‚É£ Received Wrong Product ‚Äì Please send opening video and image to WhatsApp: 8329887600\n2Ô∏è‚É£ Received Damaged Product ‚Äì Please send image and opening video to WhatsApp: 8329887600\n3Ô∏è‚É£ Other Reason\n\n‚ùóReturn is only accepted for wrong or damaged products.`;\n    case \"2\":\n      return `‚úÖ Yes, you can exchange your product easily. Please visit the *Orders* section on our website: www.molisha.in`;\n    case \"3\":\n      return `üì¶ Orders are usually delivered within *5 to 6 working days*.`;\n    case \"4\":\n      return `üí≥ Payment received but no confirmation?\n\nPlease wait 30 more minutes for automated Razorpay sync. If still not received, WhatsApp us at 8329887600.`;\n    case \"5\":\n      return `üöö After submitting your exchange request online, pickup usually happens within *2 to 3 working days.*`;\n    case \"6\":\n      return `üì¶ You will receive your exchange article within *7 to 10 working days* after pickup.`;\n    case \"7\":\n      return `üí≥ We accept online payments via Razorpay. You can pay securely during checkout.`;\n    case \"8\":\n      return `üë©‚Äçüíº You can talk to a human support agent on WhatsApp: https://wa.me/9571354529`;\n    default:\n      return welcomeMessage;\n  }\n}\n\nexport default function AIChatbot() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [messages, setMessages] = useState([{ from: \"bot\", text: welcomeMessage }]);\n  const [input, setInput] = useState(\"\");\n  const messagesEndRef = useRef<HTMLDivElement | null>(null);\n\n  const toggleChat = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, isOpen]);\n\n  const handleSend = () => {\n    if (!input.trim()) return;\n    const userMessage = { from: \"user\", text: input.trim() };\n    setMessages((prev) => [...prev, userMessage]);\n    setInput(\"\");\n\n    setTimeout(() => {\n      const botMessage = {\n        from: \"bot\",\n        text: getResponse(input),\n      };\n      setMessages((prev) => [...prev, botMessage]);\n    }, 500);\n  };\n\n  const handleKeyDown = (e: KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  return (\n    <div className=\"fixed bottom-4 right-4 z-50 w-80 max-w-full font-sans\">\n      <button\n        onClick={toggleChat}\n        aria-label=\"Toggle Chatbot\"\n        className=\"bg-black text-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg hover:bg-gray-800 focus:outline-none\"\n      >\n        {isOpen ? \"√ó\" : \"üí¨\"}\n      </button>\n      {isOpen && (\n        <div className=\"mt-2 bg-white rounded-lg shadow-lg flex flex-col h-96\">\n          <div className=\"p-4 border-b border-gray-200 font-semibold text-black\">AI Chatbot</div>\n          <div className=\"flex-1 p-4 overflow-y-auto space-y-3 text-sm text-black\">\n            {messages.map((msg, idx) => (\n              <div\n                key={idx}\n                className={`flex ${msg.from === \"user\" ? \"justify-end\" : \"justify-start\"}`}\n              >\n                <div\n                  className={`rounded-lg p-2 max-w-xs whitespace-pre-wrap ${\n                    msg.from === \"user\" ? \"bg-black text-white\" : \"bg-gray-200 text-black\"\n                  }`}\n                >\n                  {msg.text}\n                </div>\n              </div>\n            ))}\n            <div ref={messagesEndRef} />\n          </div>\n          <div className=\"p-2 border-t border-gray-200\">\n            <textarea\n              rows={2}\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              onKeyDown={handleKeyDown}\n              placeholder=\"Type your message...\"\n              className=\"w-full resize-none border border-gray-300 rounded-md p-2 text-black focus:outline-none focus:ring-2 focus:ring-black\"\n            />\n            <button\n              onClick={handleSend}\n              className=\"mt-2 w-full bg-black text-white rounded-md py-2 hover:bg-gray-800 focus:outline-none\"\n            >\n              Send\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAIA,MAAM,iBAAiB,CAAC;;;;;;;;;iCASS,CAAC;AAElC,SAAS,YAAY,KAAa;IAChC,MAAM,UAAU,MAAM,IAAI;IAC1B,OAAQ;QACN,KAAK;YACH,OAAO,CAAC;;;;;uDAKyC,CAAC;QACpD,KAAK;YACH,OAAO,CAAC,6GAA6G,CAAC;QACxH,KAAK;YACH,OAAO,CAAC,6DAA6D,CAAC;QACxE,KAAK;YACH,OAAO,CAAC;;0GAE4F,CAAC;QACvG,KAAK;YACH,OAAO,CAAC,sGAAsG,CAAC;QACjH,KAAK;YACH,OAAO,CAAC,qFAAqF,CAAC;QAChG,KAAK;YACH,OAAO,CAAC,gFAAgF,CAAC;QAC3F,KAAK;YACH,OAAO,CAAC,iFAAiF,CAAC;QAC5F;YACE,OAAO;IACX;AACF;AAEe,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QAAC;YAAE,MAAM;YAAO,MAAM;QAAe;KAAE;IAChF,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAyB;IAErD,MAAM,aAAa;QACjB,UAAU,CAAC;IACb;IAEA,MAAM,iBAAiB;QACrB,eAAe,OAAO,EAAE,eAAe;YAAE,UAAU;QAAS;IAC9D;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR;QACF;8BAAG;QAAC;QAAU;KAAO;IAErB,MAAM,aAAa;QACjB,IAAI,CAAC,MAAM,IAAI,IAAI;QACnB,MAAM,cAAc;YAAE,MAAM;YAAQ,MAAM,MAAM,IAAI;QAAG;QACvD,YAAY,CAAC,OAAS;mBAAI;gBAAM;aAAY;QAC5C,SAAS;QAET,WAAW;YACT,MAAM,aAAa;gBACjB,MAAM;gBACN,MAAM,YAAY;YACpB;YACA,YAAY,CAAC,OAAS;uBAAI;oBAAM;iBAAW;QAC7C,GAAG;IACL;IAEA,MAAM,gBAAgB,CAAC;QACrB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YACpC,EAAE,cAAc;YAChB;QACF;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,SAAS;gBACT,cAAW;gBACX,WAAU;0BAET,SAAS,MAAM;;;;;;YAEjB,wBACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCAAwD;;;;;;kCACvE,6LAAC;wBAAI,WAAU;;4BACZ,SAAS,GAAG,CAAC,CAAC,KAAK,oBAClB,6LAAC;oCAEC,WAAW,CAAC,KAAK,EAAE,IAAI,IAAI,KAAK,SAAS,gBAAgB,iBAAiB;8CAE1E,cAAA,6LAAC;wCACC,WAAW,CAAC,4CAA4C,EACtD,IAAI,IAAI,KAAK,SAAS,wBAAwB,0BAC9C;kDAED,IAAI,IAAI;;;;;;mCARN;;;;;0CAYT,6LAAC;gCAAI,KAAK;;;;;;;;;;;;kCAEZ,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,MAAM;gCACN,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,WAAW;gCACX,aAAY;gCACZ,WAAU;;;;;;0CAEZ,6LAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;AAQb;GAzFwB;KAAA","debugId":null}}]
}